<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport">
  <script type="module">
    const ua = window.navigator.userAgent
    if (ua.indexOf('iPhone') !== -1 || ua.indexOf('iPod') !== -1 ||
        (ua.indexOf('Android') !== -1 && ua.indexOf('Mobile') !== -1)) {
      const el = document.querySelector('meta[name=viewport]')
      el.setAttribute('content', 'width=600')
    }
  </script>
  <title></title>
  <link rel="stylesheet" href="css/app.css">
  <link rel="stylesheet" href="css/choice-section.css">
  <style>
    .s0 .f1 {
      border: none;
    }
  </style>
  <meta name="generator" content="playout 1.0.0">
</head>
<body>
  <script type="module">
    import { App, Section } from './js/app.js'
    import { ChoiceSection } from './js/choice-section.js'

    const main = async () => {
      const app = new App()
      app.init()

      const propsList = await Promise.all([
        app.loadJSON('sections/s0.json')
      ])

      const sections = [
        new Section(propsList[0]),
        new ChoiceSection({
          options: ['1. Option 1', '2. Option 2', '3. Option 3'],
          onchange: value => { console.log(value) },
          onnext: value => { location.href = 'pages/p0.html#' + value }
        })
      ]

      for (const section of sections) {
        await app.loadSection(section)
      }

      if (location.hostname === 'localhost') {
        app.editable()
      }
    }

    main()
  </script>
</body>
</html>
